ALTER TABLE users DISABLE ROW LEVEL SECURITY;
ALTER TABLE tickets DISABLE ROW LEVEL SECURITY;
ALTER TABLE comments DISABLE ROW LEVEL SECURITY;

INSERT INTO users (name, email, password, role, must_change_password, created_at, updated_at)
VALUES (
  'System Administrator',
  'admin@system.local',
  '$2a$10$rB7VWFJWZZfO9X8YrGBiJOKr7UQT.L2ZJ4LxY0hLZvZLHKY8LZ0UG',
  'admin',
  false,
  NOW(),
  NOW()
)
ON CONFLICT (email) DO UPDATE SET
  password = '$2a$10$rB7VWFJWZZfO9X8YrGBiJOKr7UQT.L2ZJ4LxY0hLZvZLHKY8LZ0UG',
  role = 'admin',
  must_change_password = false;

SELECT id, name, email, role FROM users WHERE role = 'admin';